<!DOCTYPE html>
<html lang="ko">
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>a11</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

    <h2>유효성 검사</h2>
    <div>
        <span>이메일 : </span>
        <input type="text" name="email" placeholder="이메일주소@도메인">
    </div>
    <div>
        <span>비밀번호 : </span>
        <input type="password" name="pw" placeholder="비밀번호 8자 이상 영문 대소문자와 숫자 포함">
    </div>
    <span class="pwVal"></span>

    <script>
        let inputE = document.querySelector("[name = email]");
        let inputPw = document.querySelector("[name = pw]");
        let emailVal = document.querySelector(".emailVal");
        let pwVal = document.querySelector(".pwVal");
        
        inputE.onkeyup = function() {
            // a-zA-Z0-9 -> 소문자/대문자/모든 숫자 매칭
            let eTxt = inputE.value;
            let ptrn = /^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-zA-Z]{2,}$/;
            if(ptrn.test(eTxt)) {
                this.style.backgroundColor = "#999";
                emailVal.innerHTML = "올바른 이메일 형식입니다.";
            } else {
                this.style.backgroundColor = "#f00";
                emailVal.innerHTML = "이메일 형식이 맞지 않습니다.";
            }
        }

        inputPw.onkeyup = function() {
            // () 그룹별 매칭
            let pTxt = inputPw.value;
            let ptrn = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/;
            if(pTxt >= 8 && ptrn.test(pTxt)) {
                this.style.backgroundColor = "#999";
                pwVal.innerHTML = "비밀번호 설정 가능";
            } else {
                this.style.backgroundColor = "#f00";
                pwVal.innerHTML = "비밀번호 설정 불가능";
            }
        }

    </script>
</body>
</html>